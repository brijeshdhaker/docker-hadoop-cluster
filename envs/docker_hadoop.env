#
#
#
CLUSTER_NAME=docker-sandbox
MULTIHOMED_NETWORK=2

#
# HADOOP
#
HADOOP_VERSION=3.2.4
HADOOP_HOME=/opt/hadoop
HADOOP_CONF_DIR=/etc/hadoop/conf
HADOOP_COMMON_HOME=/opt/hadoop
HADOOP_LOG_DIR=/apps/var/log/hadoop
HADOOP_OPTS="-Djava.library.path=/opt/hadoop/lib/native -Djava.security.krb5.conf=/etc/kerberos/krb5.conf"


#
# Kerberos
#
KRB5_CONFIG="/etc/kerberos/krb5.conf"
KINIT_KEYTAB=/etc/kerberos/keytab/hdfs.service.keytab
KINIT_PRINCIPAL=hdfs/_HOST@SANDBOX.NET

JSVC_HOME=/usr/bin
HDFS_DATANODE_SECURE_USER=hdfs
HDFS_DATANODE_SECURE_EXTRA_OPTS="-jvm server"

# Hadoop Client
HADOOP_CLIENT_OPTS="-Djava.security.krb5.conf=/etc/kerberos/krb5.conf"


#
# core-site.xml
#
CORE_CONF_fs_defaultFS=hdfs://namenode.sandbox.net:9000
CORE_CONF_io_compression_codecs=org.apache.hadoop.io.compress.SnappyCodec

#
CORE_CONF_hadoop_security_authentication=kerberos
CORE_CONF_hadoop_security_authorization=true
CORE_CONF_hadoop_rpc_protection=authentication

#CORE_CONF_hadoop_http_staticuser_user=hdfs
CORE_CONF_hadoop_http_authentication_type=kerberos
CORE_CONF_hadoop_http_authentication_kerberos_principal=HTTP/_HOST@SANDBOX.NET
CORE_CONF_hadoop_http_authentication_kerberos_keytab=/etc/kerberos/keytabs/spnego.service.keytab
CORE_CONF_hadoop_http_authentication_cookie_domain=.sandbox.net
# CORE_CONF_hadoop_http_authentication_simple_anonymous_allowed=true
# CORE_CONF_hadoop_http_filter_initializers=org.apache.hadoop.http.lib.StaticUserWebFilter
# CORE_CONF_hadoop_http_filter_initializers=org.apache.hadoop.security.AuthenticationFilterInitializer
# CORE_CONF_hadoop_http_authentication_signature_secret_file=/etc/kerberos/http_secret


#
CORE_CONF_hadoop_proxyuser_root_hosts=*
CORE_CONF_hadoop_proxyuser_root_groups=*
CORE_CONF_hadoop_proxyuser_brijeshdhaker_hosts=*
CORE_CONF_hadoop_proxyuser_brijeshdhaker_groups=*
CORE_CONF_hadoop_proxyuser_spark_hosts=*
CORE_CONF_hadoop_proxyuser_spark_groups=*
CORE_CONF_hadoop_proxyuser_zeppelin_hosts=*
CORE_CONF_hadoop_proxyuser_zeppelin_groups=*
CORE_CONF_hadoop_proxyuser_hdfs_hosts=*
CORE_CONF_hadoop_proxyuser_hdfs_groups=*
CORE_CONF_hadoop_proxyuser_yarn_hosts=*
CORE_CONF_hadoop_proxyuser_yarn_groups=*
CORE_CONF_hadoop_proxyuser_mapred_hosts=*
CORE_CONF_hadoop_proxyuser_mapred_groups=*
CORE_CONF_hadoop_proxyuser_hive_hosts=*
CORE_CONF_hadoop_proxyuser_hive_groups=*
CORE_CONF_hadoop_proxyuser_hbase_hosts=*
CORE_CONF_hadoop_proxyuser_hbase_groups=*


#
# hdfs-site.xml
#

# WebHDFS
# HDFS_CONF_dfs_webhdfs_enabled=true
HDFS_CONF_dfs_permissions_enabled=false
HDFS_CONF_dfs_permissions_superusergroup=hadoop
HDFS_CONF_dfs_replication=1
HDFS_CONF_dfs_http_policy=HTTP_ONLY
HDFS_CONF_dfs_block_access_token_enable=true
HDFS_CONF_dfs_web_authentication_kerberos_principal=HTTP/_HOST@SANDBOX.NET
HDFS_CONF_dfs_web_authentication_kerberos_keytab=/etc/kerberos/keytabs/spnego.service.keytab

# NameNode
HDFS_CONF_dfs_namenode_datanode_registration_ip___hostname___check=false
HDFS_CONF_dfs_namenode_name_dir=file:///hadoop/dfs/name
HDFS_CONF_dfs_namenode_http___address=0.0.0.0:9870
HDFS_CONF_dfs_namenode_https___address=0.0.0.0:9871
HDFS_CONF_dfs_namenode_kerberos_principal=hdfs/_HOST@SANDBOX.NET
HDFS_CONF_dfs_namenode_keytab_file=/etc/kerberos/keytabs/hdfs.service.keytab
HDFS_CONF_dfs_namenode_kerberos_internal_spnego_principal=HTTP/_HOST@SANDBOX.NET

# Secondary NameNode
HDFS_CONF_dfs_namenode_checkpoint_dir=file:///hadoop/dfs/secondary
HDFS_CONF_dfs_namenode_secondary_http___address=0.0.0.0:9868
HDFS_CONF_dfs_namenode_secondary_https___address=0.0.0.0:9869
HDFS_CONF_dfs_secondary_namenode_kerberos_principal=hdfs/_HOST@SANDBOX.NET
HDFS_CONF_dfs_secondary_namenode_keytab_file=/etc/kerberos/keytab/hdfs.service.keytab
HDFS_CONF_dfs_secondary_namenode_kerberos_internal_spnego_principal=HTTP/_HOST@SANDBOX.NET

# DataNode
HDFS_CONF_dfs_datanode_data_dir=file:///hadoop/dfs/data
HDFS_CONF_dfs_datanode_data_dir_perm=700
HDFS_CONF_dfs_datanode_use_datanode_hostname=true
HDFS_CONF_dfs_datanode_address=0.0.0.0:1004
HDFS_CONF_dfs_datanode_http_address=0.0.0.0:1006
HDFS_CONF_dfs_datanode_https_address=0.0.0.0:9865
HDFS_CONF_dfs_datanode_kerberos_principal=hdfs/_HOST@SANDBOX.NET
HDFS_CONF_dfs_datanode_keytab_file=/etc/kerberos/keytabs/hdfs.service.keytab

#
# HDFS_CONF_dfs_encrypt_data_transfer=false
# HDFS_CONF_dfs_data_transfer_protection=authentication
# HDFS_CONF_dfs_encrypt_data_transfer_algorithm=3des
# HDFS_CONF_dfs_encrypt_data_transfer_cipher_suites=AES/CTR/NoPadding
# HDFS_CONF_dfs_encrypt_data_transfer_cipher_key_bitlength=256
